

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyphoon.io &mdash; pyphoon documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.png"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="pyphoon documentation" href="index.html"/>
        <link rel="next" title="pyphoon.clean_satellite" href="pyphoon.clean_satellite.html"/>
        <link rel="prev" title="TC - xTC" href="projects/tcxtc.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html">
          

          
            
            <img src="_static/pyphoon_logo_large.png" class="logo" />
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="home.html">Home</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Development environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="faqs.html">FAQs</a></li>
</ul>
<p class="caption"><span class="caption-text">Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="projects/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="projects/tcxtc.html">tcxtc</a></li>
</ul>
<p class="caption"><span class="caption-text">Modules</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">pyphoon.io</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#modules">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pyphoon.io.h5">pyphoon.io.h5</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pyphoon.io.tsv">pyphoon.io.tsv</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pyphoon.io.utils">pyphoon.io.utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyphoon.clean_satellite.html">pyphoon.clean_satellite</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyphoon.db.html">pyphoon.db</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyphoon.app.html">pyphoon.app</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyphoon.visualise.html">pyphoon.visualise</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyphoon.eda_jma.html">pyphoon.eda_jma</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyphoon</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>pyphoon.io</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
    
        <div class="section" id="module-pyphoon.io.__init__">
<span id="pyphoon-io"></span><h1>pyphoon.io<a class="headerlink" href="#module-pyphoon.io.__init__" title="Permalink to this headline">¶</a></h1>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">module</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#module-pyphoon.io.h5" title="pyphoon.io.h5"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyphoon.io.h5</span></code></a></td>
<td>Reading and writing operations on H5 files.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-pyphoon.io.tsv" title="pyphoon.io.tsv"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyphoon.io.tsv</span></code></a></td>
<td>Reading and writing operations</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-pyphoon.io.utils" title="pyphoon.io.utils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyphoon.io.utils</span></code></a></td>
<td>Generic tools</td>
</tr>
</tbody>
</table>
</div>
<hr class="docutils" />
<div class="section" id="module-pyphoon.io.h5">
<span id="pyphoon-io-h5"></span><h2>pyphoon.io.h5<a class="headerlink" href="#module-pyphoon.io.h5" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pyphoon.io.h5.get_h5_filenames">
<code class="descclassname">pyphoon.io.h5.</code><code class="descname">get_h5_filenames</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.h5.get_h5_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains the list of H5 file names within the given directory. If the
specified directory is a H5 file itself, then the name of the file is
returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>directory</strong> (<em>str</em>) – Path to a folder containing HDF5 files or a single HDF5
file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List with the paths to all H5 files available according to the
specified directory. List is empty if no file was found.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.h5.read_source_images">
<code class="descclassname">pyphoon.io.h5.</code><code class="descname">read_source_images</code><span class="sig-paren">(</span><em>path_to_folder</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.h5.read_source_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads all image files within a given folder. Note that all images are
assumed to have the same dimensionality. In addition, an image should have
been stored as a dataset, with name ‘infrared’, in an HDF5 file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path_to_folder</strong> (<em>str</em>) – Complete path to the folder containing HDF image
files.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><em>NxWxH</em> Numpy array (<em>N</em>: #images, <em>W</em>: image width, <em>H</em>: image
height)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.h5.read_source_image">
<code class="descclassname">pyphoon.io.h5.</code><code class="descname">read_source_image</code><span class="sig-paren">(</span><em>path_to_file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.h5.read_source_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads an image from an HDF5 file. It assumes that the image was stored
as a dataset with name ‘infrared’ in an HDF5 file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path_to_file</strong> (<em>str</em>) – Path to the HDF file storing the image.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Image of size <em>WxH</em> (<em>W</em>: image width, <em>H</em>: image height)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.h5.write_image">
<code class="descclassname">pyphoon.io.h5.</code><code class="descname">write_image</code><span class="sig-paren">(</span><em>path_to_file</em>, <em>image</em>, <em>compression='gzip'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.h5.write_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores a given image in a dataset in a HDF5 file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>compression</strong> (<em>str</em>) – Compression type</li>
<li><strong>path_to_file</strong> (<em>str</em>) – Path to the HDF file storing the image.</li>
<li><strong>image</strong> (<em>numpy.array</em>) – Image information.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.h5.read_h5groupfile">
<code class="descclassname">pyphoon.io.h5.</code><code class="descname">read_h5groupfile</code><span class="sig-paren">(</span><em>path_to_file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.h5.read_h5groupfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads an H5 file and returns its content in a dictionary-fashion.
Note that the H5 file is assumed to have a set of groups with two
datasets (‘data’ and ‘ids’). The groups refer to the different data
fields used as source data for Digital Typhoon.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path_to_file</strong> (<em>str</em>) – Path to an H5 file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Content of the HDF5 file as a dictionary. Keys stand for data
field names and corresponding values are dictionaries with two fields:<ul class="simple">
<li><em>data</em>: Contains the data itself</li>
<li><em>ids</em>: Contains the ids associated to the samples from <em>data</em>.</li>
</ul>
<p>As a consequence, the format of the returned file is a 2-nested
dictionary.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.h5.write_h5groupfile">
<code class="descclassname">pyphoon.io.h5.</code><code class="descname">write_h5groupfile</code><span class="sig-paren">(</span><em>data</em>, <em>path_to_file</em>, <em>compression</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.h5.write_h5groupfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs and stores an H5 file containing the given data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>dict</em>) – <p>Dictionary containing the data to be stored. Keys stand for
data field names and corresponding values are dictionaries with two
fields:</p>
<ul>
<li><em>data</em>: Contains the data itself.</li>
<li><em>ids</em>: Contains the ids associated to the samples from <em>data</em>.</li>
</ul>
<p>Hence, <strong>data</strong> is a 2-nested dictionary.</p>
</li>
<li><strong>path_to_file</strong> (<em>str</em>) – Path where the new H5 file will be created.</li>
<li><strong>compression</strong> – Use to compress H5 file. Find more details at
the <a class="reference external" href="http://docs.h5py.org/en/latest/high/dataset.html">h5py documentation</a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.h5.read_h5_dataset_file">
<code class="descclassname">pyphoon.io.h5.</code><code class="descname">read_h5_dataset_file</code><span class="sig-paren">(</span><em>path_to_file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.h5.read_h5_dataset_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads an HDF5 file and returns its content in a dictionary-fashion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path_to_file</strong> (<em>str</em>) – Path to an H5 file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Content of the HDF5 file as a dictionary. Keys stand for data
field names and values are the corresponding data.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.h5.write_h5_dataset_file">
<code class="descclassname">pyphoon.io.h5.</code><code class="descname">write_h5_dataset_file</code><span class="sig-paren">(</span><em>data</em>, <em>path_to_file</em>, <em>compression</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.h5.write_h5_dataset_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs and stores an HDF5 file containing the given data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>dict</em>) – Dictionary containing the data to be stored. Keys stand for
data field names, values are the corresponding data.</li>
<li><strong>path_to_file</strong> (<em>str</em>) – Path where the new H5 file will be created.</li>
<li><strong>compression</strong> – Use to compress H5 file. Find more details at
the <a class="reference external" href="http://docs.h5py.org/en/latest/high/dataset.html">h5py documentation</a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="module-pyphoon.io.tsv">
<span id="pyphoon-io-tsv"></span><h2>pyphoon.io.tsv<a class="headerlink" href="#module-pyphoon.io.tsv" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pyphoon.io.tsv.read_tsvs">
<code class="descclassname">pyphoon.io.tsv.</code><code class="descname">read_tsvs</code><span class="sig-paren">(</span><em>path_best</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.tsv.read_tsvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads all the files from the jma directory and returns a list of <em>N</em>
elements, each being a list of typhoon features. To this end, it assumes
that <strong>path_best</strong> contains all .TSV JMA data files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path_best</strong> (<em>str</em>) – Path to the directory containing the JMA .TSV data files.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List with all best data from all samples in the .TSV files.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.tsv.read_tsv">
<code class="descclassname">pyphoon.io.tsv.</code><code class="descname">read_tsv</code><span class="sig-paren">(</span><em>path_to_file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.tsv.read_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the data from a .TSV JMA data file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path_to_file</strong> (<em>str</em>) – Complete path to the TSV file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List with JMA data extracted from given .TSV file. The length of
the list is equal to the number of samples and each element in the
list is a list with length equal to number of features.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.tsv.check_constant_distance_in_tsv">
<code class="descclassname">pyphoon.io.tsv.</code><code class="descname">check_constant_distance_in_tsv</code><span class="sig-paren">(</span><em>path_best</em>, <em>time_distance=3600</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.tsv.check_constant_distance_in_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that within a typhoon sequence the time distance between
consecutive image frames remains constant.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path_best</strong> (<em>str</em>) – Directory containing TSV files.</li>
<li><strong>time_distance</strong> (<em>int</em>) – Distance between frames in seconds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List providing, per each sequence (tsv file), the number of
time-gaps greater than <strong>time_distance</strong> without a satellite image.
Element n:th in the list refers to the n:th typhoon sequence.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="module-pyphoon.io.utils">
<span id="pyphoon-io-utils"></span><h2>pyphoon.io.utils<a class="headerlink" href="#module-pyphoon.io.utils" title="Permalink to this headline">¶</a></h2>
<p>Some tools ot assist in reading source data.</p>
<dl class="function">
<dt id="pyphoon.io.utils.get_image_ids">
<code class="descclassname">pyphoon.io.utils.</code><code class="descname">get_image_ids</code><span class="sig-paren">(</span><em>sequence_folder</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.utils.get_image_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets ids of all image HDF5 files in <strong>sequence_folder</strong>. To do the
conversion filename to id it makes use of <a class="reference internal" href="#pyphoon.io.utils.imagefilename2id" title="pyphoon.io.utils.imagefilename2id"><code class="xref py py-func docutils literal notranslate"><span class="pre">imagefilename2id()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sequence_folder</strong> (<em>str</em>) – Path to the folder containing images stored as
single HDF5 files with the original <a class="reference external" href="http://lcsrg.me/pyphoon/build/html/data.html">naming convention</a>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List with the ids of all images within the folder
<strong>sequence_folder</strong>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.utils.get_image_dates">
<code class="descclassname">pyphoon.io.utils.</code><code class="descname">get_image_dates</code><span class="sig-paren">(</span><em>sequence_folder</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.utils.get_image_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the dates from all image HDF5 files stored in <em>sequence_folder</em>.
To do the conversion filename to id it makes use of
<a class="reference internal" href="#pyphoon.io.utils.imagefilename2date" title="pyphoon.io.utils.imagefilename2date"><code class="xref py py-func docutils literal notranslate"><span class="pre">imagefilename2date()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sequence_folder</strong> (<em>str</em>) – Path to the folder containing images stored as
single HDF5 files with the original <a class="reference external" href="http://lcsrg.me/pyphoon/build/html/data.html">naming convention</a>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List with the dates of all images within the folder
<strong>sequence_folder</strong>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.utils.get_best_ids">
<code class="descclassname">pyphoon.io.utils.</code><code class="descname">get_best_ids</code><span class="sig-paren">(</span><em>best_data</em>, <em>seq_no</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.utils.get_best_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets ids for each sample in the best track data. It obtains the date
from each sample using <a class="reference internal" href="#pyphoon.io.utils.get_best_date" title="pyphoon.io.utils.get_best_date"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_best_date()</span></code></a> and converts it to a typhoon id</p>
<blockquote>
<div>using the sequence number <strong>seq_no</strong> and method <a class="reference internal" href="#pyphoon.io.utils.date2id" title="pyphoon.io.utils.date2id"><code class="xref py py-func docutils literal notranslate"><span class="pre">date2id()</span></code></a>.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>best_data</strong> (<em>numpy.array</em>) – Array containing the Best Track data.</li>
<li><strong>seq_no</strong> (<em>str</em>) – Name of the typhoon sequence</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List with the ids of all samples from input Best Track data.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.utils.get_best_dates">
<code class="descclassname">pyphoon.io.utils.</code><code class="descname">get_best_dates</code><span class="sig-paren">(</span><em>best_data</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.utils.get_best_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the dates for each sample in the best track data. To extract the
date from the filename it uses <a class="reference internal" href="#pyphoon.io.utils.get_best_date" title="pyphoon.io.utils.get_best_date"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_best_date()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>best_data</strong> (<em>numpy.array</em>) – Array containing the data from Best Track.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of datetime.datetime elements.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.utils.get_best_date">
<code class="descclassname">pyphoon.io.utils.</code><code class="descname">get_best_date</code><span class="sig-paren">(</span><em>best_data_sample</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.utils.get_best_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the date of best data sample <strong>best_data_sample</strong>. To this end,
it uses the date features of the sample, namely the <em>year</em>, <em>month</em>,
<em>day</em> and <em>hour</em> features.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>best_data_sample</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.utils.id2date">
<code class="descclassname">pyphoon.io.utils.</code><code class="descname">id2date</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.utils.id2date" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the date of a typhoon image frame with id given by
<strong>identifier</strong>. A typical id is in the format <em>&lt;seq_no&gt;_&lt;YYYYMMDD&gt;</em>,
where <em>seq_no</em> denotes the sequence number (e.g. <em>199801</em>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> (<em>str</em>) – Identifier of an image or best track frame.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Date of the frame</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">datetime.datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.utils.id2seqno">
<code class="descclassname">pyphoon.io.utils.</code><code class="descname">id2seqno</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.utils.id2seqno" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets sequence number from a typhoon id. E.g, <em>199802_199980101 -&gt;
199802</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> (<em>str</em>) – Typhoon unique identifier, e.g. <em>199802_199980101</em>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Sequence number.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.utils.date2id">
<code class="descclassname">pyphoon.io.utils.</code><code class="descname">date2id</code><span class="sig-paren">(</span><em>date</em>, <em>seq_no</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.utils.date2id" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the id of an image frame sample using its date and the id of
the typhoon sequence it belongs to.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>date</strong> (<em>datetime.datetime</em>) – Date of the sample</li>
<li><strong>seq_no</strong> (<em>str</em>) – Typhoon sequence number, e.g. “199607”.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Id of the sample corresponding to the given sequence name and date.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.utils.hdffile2name">
<code class="descclassname">pyphoon.io.utils.</code><code class="descname">hdffile2name</code><span class="sig-paren">(</span><em>path_h5file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.utils.hdffile2name" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a path to an HDF5 file it obtains the file name (without format
extension). E.g, <em>file.h5 -&gt; file</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path_h5file</strong> (<em>str</em>) – Path to an HDF file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Name of file without format extension.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.utils.folder2name">
<code class="descclassname">pyphoon.io.utils.</code><code class="descname">folder2name</code><span class="sig-paren">(</span><em>path_folder</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.utils.folder2name" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a path to a folder it obtains the name of the folder alone.
E.g. <em>/path/to/some/folder -&gt; folder</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path_folder</strong> (<em>str</em>) – Path to a folder.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Name of folder.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.utils.imagefilename2id">
<code class="descclassname">pyphoon.io.utils.</code><code class="descname">imagefilename2id</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.utils.imagefilename2id" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the id of an image sample. The id is generated using two main
components.
-   The date of the typhoon sample.
-   Typhoon sequence number.</p>
<p>Note that typhoons from different sequences might have the same ID since
they were recorded at the same time. Therefore, the final id is
constructed using both the date and the typhoon sequence number together.</p>
<p>To build the image id, the name of the original HDF file is used,
which have the following structure:</p>
<p><em>YYYYMMDDHH-&lt;typhoon id&gt;-&lt;satellite model&gt;.h5</em></p>
<p>We can then parse it to the id, namely:</p>
<p><em>&lt;typhoon id&gt;_YYYYMMDDHH</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) – HDF image filename.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Image frame identifier.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyphoon.io.utils.imagefilename2date">
<code class="descclassname">pyphoon.io.utils.</code><code class="descname">imagefilename2date</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#pyphoon.io.utils.imagefilename2date" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the date from a file with a specific filename. To obtain the
image date from the filename, the filename must have the following
structure:</p>
<p><em>YYYYMMDDHH-&lt;typhoon id&gt;-&lt;satellitemodel&gt;.h5</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) – Name of the HDF image file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Date the image with a given <em>filename</em> was taken.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">datetime.datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>

    

           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pyphoon.clean_satellite.html" class="btn btn-neutral float-right" title="pyphoon.clean_satellite" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="projects/tcxtc.html" class="btn btn-neutral" title="TC - xTC" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Kitamoto Lab interns.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2018a',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>